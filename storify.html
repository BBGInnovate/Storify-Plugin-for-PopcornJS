
<html>
<head>
  <base href="http://popthevid.com/templates/./"/>
<title>Popcorn Template</title>
	<link href="../stylesheet2.css" rel="stylesheet" type="text/css" />
	<link href="../storify.css" rel="stylesheet" type="text/css" />
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="../../dist/external/popcorn-js/popcorn.js"></script>
  <script src="http://popthevid.com/../external/popcorn-js/plugins/storify/popcorn.storify.js"></script>
</head>

<body>

<h1>Storify plugin for PopcornJS (still in 'alpha')</h1>
Currently only tested in Chrome.  By transforming storify URL's to their api form, you can grab the JSON associated w/ a story and render it how you please. They allow JSONP which takes care of cross domain issues.
<BR><BR>

<a target="_new" href="http://storify.com/washingtonpost/dcstorm-in-photos">storify.com/washingtonpost/dcstorm-in-photos</a>
=> <a  target="_new2" href="http://api.storify.com/v1/stories/washingtonpost/dcstorm-in-photos?callback=anycallbackname">http://api.storify.com/v1/stories/washingtonpost/dcstorm-in-photos?callback=anycallbackname</a>
<BR><BR>

You should notice it start to scroll around the 5 second mark.  Similar to the 'pop' plugin example, we leverage the 'frame' event with {frameAnimation:true} to allow the plugin to go to its appropriate scroll position, even in authoring mode when you scrub the timeline.
<BR><BR>
TODO: issue w/ timeline scrubbing is that it 'queues' the events sequentially - so if you scrub to multiple points quickly, strange things may happen<BR><BR>




<div id="iframe">
	<h3>Featured Video</h3>
	<div class="video">
	
	<div id="video" class="video-js" data-butter="media"
          data-butter-media-controls="true" controls 
          style="width:634px;"></div>
	</div>
	<BR><BR> 
	<div class="related" data-butter="target" id="Area2"></div>
	<div class="description" data-butter="target" id="Area1"></div>
    <div id="target-div"></div>
</div>


<script type="application/butter-custom-data">
{}
</script><script>
(function(){
var popcorn = Popcorn.smart("#video", [ "http://www.youtube.com/watch?v=yHwLrObAfUI&amp;butteruid=1344529417102" ], {frameAnimation:true});
popcorn.storify({
  "start": 0.177,
  "end": 70,
  "target": "Area1",
  "id": "",
  "src": "http://storify.com/washingtonpost/dcstorm-in-photos"
});
popcorn.controls( true );
}());
</script>
</body>
</html>
